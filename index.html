<!doctype html>
<html>
<head>
    <title>Tail Log</title>
</head>
<style>li {
    list-style: none;
}
</style>

<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.0.1/lodash.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>

    //Establish a Websocket (socket.io) connection to the server.
    var socket = io({forceNew: true});

    //Register interesting in the data event
    socket.on('line', function (line) {
        var li = $("<li/>")
        li.text(line)
        $("#output").append(li)

        //Get the DOM element
        var element = li[0]

        //Scroll down
        element.scrollIntoView()
    })

    // Tell the user the stream closed on the server.
    socket.on('end', function () {
        console.error("END")
        $("#output".append("<li>********** FILE STREAM CLOSED >**********</li>"))
    })

</script>
<body>
<h1>Tail File</h1>
<ul id="output">
    <ul>
        </form>
</body>
</html>
